{{- define "title" }}
  {{- $paginator := .Paginate .Data.Pages .Site.Params.hb.blog.terms.paginate }}
  {{ partial "base/title" . }}
{{- end -}}

{{- define "main" }}
  {{ partial "hugopress/functions/render-hooks" (dict "Name" "hb-blog-main-begin" "Page" .) }}
  {{ partialCached "hb/modules/blog/term/profile" . . }}
  {{ partial "hb/modules/blog/term/filters" . }}
  <div class="hb-terms-posts row">
    {{- range .Paginator.Pages }}
      {{- $page := . }}
      {{- $attrs := slice (.Date.Format "2006" | printf "data-years-%s" ) }}
      {{- range $taxonomy, $taxonomies := site.Taxonomies }}
        {{- with index $page.Params $taxonomy }}
          {{- range . }}
            {{- $attrs = $attrs | append (printf "data-%s-%s" $taxonomy (replace . " " "-" | lower)) }}
          {{- end }}
        {{- end }}
      {{- end }}
      <div
        class="col-12 col-md-6 col-lg-4 mb-3 mb-lg-4 hb-terms-posts-post"
        {{ with $attrs }}{{ delimit $attrs " " | safeHTMLAttr }}{{ end }}>
        {{ partial "hb/modules/blog/post/card" (dict "Page" $page) }}
      </div>
    {{- end }}
  </div>
  {{ partial "hb/modules/blog/post/pagination" .Paginator }}
  {{ partial "hugopress/functions/render-hooks" (dict "Name" "hb-blog-main-end" "Page" .) }}
{{- end -}}
